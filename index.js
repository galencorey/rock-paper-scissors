$(function(){
  var game = new Game();
  $('.choice').click(function(e){
    //get user input choice
    var choice = $(this).data().name;

    //get the current turn generated by computer
    var currentTurn = game.currentTurn;
    renderChoice(choice, currentTurn.computerChoice)

    //calculate the winner
    currentTurn.addPlayerChoice(choice);
    var winner = currentTurn.winner

    //prepare for new turn
    game.newTurn();

    renderStandings(winner, game[ winner + 'Count']);
  });
});

function renderChoice(playerChoice, computerChoice){
  //update the screen with the computer and player choices
  const imageUrls = {
    rock: './img/rock.png',
    paper: './img/paper.png',
    scissors: './img/scissors.png',
  }

  $('#player-choice').html('<img src="'+imageUrls[playerChoice]+'"/>');
  $('#computer-choice').html('<img src="'+imageUrls[computerChoice]+'"/>');
}

function renderStandings(winner, winnerCount){
    //log current standings
    if (winner !== 'no one'){
      $('#'+winner+'-score').text(winnerCount)
    }
    $('#winner-log').text(winner + ' wins!');
}
